<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

    <script>
        
        // DOM Tree가 모두 완료된 후 호출
        $(document).ready(function(){;

            // 가. $(selector).eq(index) ==> 1차 필터링($(selector)) 후 일치하는 요소 2차 필터링(eq(index))한다.
            //     0부터 시작
            //$("li").eq(0).css("color","red");
            
            // 나. $(selector1).filter(selector2); ==> selector1 1차 필터링 후 selector2 2차로 필터링
            //$("p").filter(".middle").css("color","red");
            
            // 다. $(selector1).not(selector2); ==> selector1 1차 필터링 후 selector2가 아닌 요소 필터링
            //$("p").not(".middle").css("color","red");
            
            // 라. $(selector1).is(selector2); ==> selector1 1차 필터링 후 selector2가 있으면 true/없으면 false
            //var result = $("p").filter("[class]").is(".middle2"); // true
            //var result = $("p").filter("[class]").is(".middle2"); // false
            //console.log(result);
            
            // 바. $(selector1).has(selector2); ==> selector1 1차 필터링 후 selector2를 포함하는 2차 필터링 요소 반환
            //$("li").has("span").css("color","red");
            
            // 사. $(selector1).first()/last(); ==> selector1 1차 필터링 후 첫번째/마지막 요소 반환
            //$("li").first().css("color","red");
            //$("li").last().css("font-size","40px");
            
            // 아. $(selector1).slice(start [, end]) ==> selector1 1차 필터링 후 start(0부터 시작)-end(end 숫자 포함X) 번위에 있는 요소 2차 필터링
            //$("li").slice(0,3).css("color","red");
            
            // 아. $(selector1).map(callback 함수) ==> selector1 1차 필터링 후 함수를 적용해서 다시 반환
            /*
            var result = $("li").map(function(idx, ele){ // index는 번호, element는 필터링된 태그 // ele JS객체
                console.log(idx, ele, ele.innerText);
                return ele.innerText.toUpperCase();
            });
            console.log(result);
            
            var result = $("li").map(function(idx, ele){ // ele JQuery 객체
                console.log(idx, ele, ele.innerText); // js 객체
                console.log($(ele), $(ele).Text); // jquery 객체
                
                return $(ele).text().toUpperCase();
            });
            console.log(result);
            */
           
           var result = $("li").map(function(idx, ele){
               console.log(ele, this); // this는 ele에 전달된 요소를 의미, JS 객체
               console.log($(ele), $(this)); // jquery 객체로 변경
               console.log($(ele).text(), $(this).text()); // jquery 객체로 변경
               
               return $(this).text().toUpperCase();
            });
            console.log(result);


        });


    </script>
</head>
<body>
    <p>text</p>
    <p class="middle">Middle <span>text</span></p>
    <p class="final">final text</p>

    <div>
        <ul>
            <li>list item 1</li>
            <li>list item 2</li>
            <li><span>list item 3</span></li>
            <li>list item 4</li>
        </ul>
    </div>

</body>
</html>